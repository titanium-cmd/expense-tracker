{"version":3,"sources":["components/Header.js","context/AppReducer.js","context/GlobalState.js","components/Balance.js","components/IncomeExpenses.js","components/Transaction.js","components/TransactionList.js","components/AddTransaction.js","App.js","index.js"],"names":["Header","Reducer","state","action","type","loading","transactions","payload","filter","transaction","_id","error","initialState","GlobalContext","createContext","GlobalProvider","children","useReducer","AppReducer","dispatch","deleteTransaction","id","a","fetch","method","err","addTransaction","body","JSON","stringify","headers","res","json","getTransactions","transactionRes","data","Provider","value","Balance","total","useContext","map","amount","reduce","acc","item","toFixed","IncomeExpenses","amounts","income","expense","className","Transaction","sign","text","Math","abs","onClick","TransactionList","useEffect","key","AddTransaction","useState","setText","setAmount","onSubmit","e","preventDefault","Number","htmlFor","onChange","target","placeholder","App","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"yNAUeA,G,MARA,WACX,OACI,iD,4CCuBOC,EA3BC,SAACC,EAAOC,GACpB,OAAOA,EAAOC,MACV,IAAK,MACD,OAAO,2BACAF,GADP,IAEIG,SAAS,EACTC,aAAcH,EAAOI,UAE7B,IAAK,SACD,OAAO,2BACAL,GADP,IAEII,aAAcJ,EAAMI,aAAaE,QAAO,SAACC,GAAD,OAAeA,EAAYC,MAAQP,EAAOI,aAE1F,IAAK,MACD,OAAO,2BACAL,GADP,IACcI,aAAa,GAAD,mBAAMJ,EAAMI,cAAZ,CAA0BH,EAAOI,YAE/D,IAAK,YACD,OAAO,2BACAL,GADP,IAEIG,SAAS,EACTM,MAAOR,EAAOI,UAEtB,QACI,OAAOL,ICpBbU,EAAgB,CAClBN,aAAc,GACdK,MAAO,KACPN,SAAS,GAIAQ,EAAgBC,wBAAcF,GAG9BG,EAAiB,SAAC,GAAkB,IAAhBC,EAAe,EAAfA,SAAe,EAClBC,qBAAWC,EAAYN,GADL,mBACrCV,EADqC,KAC9BiB,EAD8B,KAGtCC,EAAiB,uCAAG,WAAOC,GAAP,SAAAC,EAAA,sDACtB,IACIC,MAAM,gBAAD,OAAiBF,GAAM,CAACG,OAAQ,WACrCL,EAAS,CACLf,KAAM,SACNG,QAASc,IAEf,MAAOI,GACLN,EAAS,CACLf,KAAM,YACNG,QAASkB,IAVK,2CAAH,sDAejBC,EAAc,uCAAG,WAAOjB,GAAP,eAAAa,EAAA,+EAEGC,MAAM,eAAgB,CACpCC,OAAQ,OACRG,KAAMC,KAAKC,UAAUpB,GACrBqB,QAAS,CAAC,eAAgB,sBALf,OAETC,EAFS,OASfZ,EAAS,CACLf,KAAM,MACNG,QAASwB,EAAIC,SAXF,gDAcfb,EAAS,CACLf,KAAM,YACNG,QAAQ,EAAD,KAhBI,yDAAH,sDAqBd0B,EAAe,uCAAG,8BAAAX,EAAA,+EAEaC,MAAM,gBAFnB,cAEVW,EAFU,gBAGUA,EAAeF,OAHzB,OAGVvB,EAHU,OAKhBU,EAAS,CACLf,KAAM,MACNG,QAASE,EAAY0B,OAPT,kDAUhBhB,EAAS,CACLf,KAAM,YACNG,QAAQ,EAAD,KAZK,0DAAH,qDAiBrB,OACI,kBAACM,EAAcuB,SAAf,CAAwBC,MAAO,CAC3B/B,aAAcJ,EAAMI,aACpBK,MAAOT,EAAMS,MACbN,QAASH,EAAMG,QACf4B,kBAAiBb,oBAAmBM,mBAEnCV,IC7DEsB,EAbC,WAAO,IAGbC,EAFiBC,qBAAW3B,GAA3BP,aACsBmC,KAAI,SAAAhC,GAAW,OAAIA,EAAYiC,UACtCC,QAAO,SAACC,EAAKC,GAAN,OAAgBD,EAAOC,IAAO,GAAGC,QAAQ,GAEtE,OACI,oCACI,4CACA,gCAAMP,KCYHQ,EApBQ,WAAO,IAEpBC,EADiBR,qBAAW3B,GAA3BP,aACsBmC,KAAI,SAAAhC,GAAW,OAAIA,EAAYiC,UACtDO,EAASD,EAAQxC,QAAO,SAAAqC,GAAI,OAAIA,EAAO,KAAGF,QAAO,SAACC,EAAKC,GAAN,OAAgBD,EAAOC,IAAO,GAAGC,QAAQ,GAE5FI,IAAsF,EAA3EF,EAAQxC,QAAO,SAAAqC,GAAI,OAAIA,EAAO,KAAGF,QAAO,SAACC,EAAKC,GAAN,OAAgBD,EAAOC,IAAO,IAAQC,QAAQ,GACrG,OACI,yBAAKK,UAAU,qBACX,6BACI,sCACA,uBAAGA,UAAU,cAAb,KAA6BF,IAEjC,6BACI,uCACA,uBAAGE,UAAU,eAAb,KAA8BD,MCC/BE,EAfK,SAAC,GAAmB,IAAlB3C,EAAiB,EAAjBA,YACVW,EAAsBoB,qBAAW3B,GAAjCO,kBAEFsB,EAASjC,EAAYiC,OACrBW,EAAOX,EAAS,EAAI,IAAM,IAEhC,OACI,oCACI,wBAAIS,UAAoB,MAATE,EAAe,QAAU,QACvC5C,EAAY6C,KADb,IACmB,8BAAOD,EAAP,IAAcE,KAAKC,IAAId,IAAe,4BAAQe,QAAS,kBAAIrC,EAAkBX,EAAYC,MAAMyC,UAAU,cAAnE,QCatDO,EArBS,WAAO,IAAD,EACclB,qBAAW3B,GAA5CP,EADmB,EACnBA,aAAc2B,EADK,EACLA,gBAMrB,OAJA0B,qBAAU,WACN1B,MAED,IAEC,oCACI,uCACA,wBAAIkB,UAAU,QACT7C,EAAamC,KAAI,SAAChC,GACf,OACI,kBAAC,EAAD,CAAcmD,IAAKnD,EAAYC,IAAKD,YAAaA,UCwB1DoD,EAtCQ,WAAO,IACnBnC,EAAkBc,qBAAW3B,GAA7Ba,eADkB,EAEDoC,mBAAS,IAFR,mBAElBR,EAFkB,KAEZS,EAFY,OAGGD,mBAAS,GAHZ,mBAGlBpB,EAHkB,KAGVsB,EAHU,KAkBzB,OACI,oCACI,mDACA,0BAAMC,SARW,SAACC,GACtBA,EAAEC,iBACFzC,EAAe,CAAC4B,OAAMZ,OAAQ0B,OAAO1B,OAO7B,yBAAKS,UAAU,gBACf,2BAAOkB,QAAQ,QAAf,QACA,2BAAOjE,KAAK,OAAOiC,MAAOiB,EAAMgB,SAnBnB,SAACJ,GACtBH,EAAQG,EAAEK,OAAOlC,QAkBmDmC,YAAY,mBAExE,yBAAKrB,UAAU,gBACf,2BAAOkB,QAAQ,UAAf,UACY,6BADZ,2CAGA,2BAAOjE,KAAK,SAASiC,MAAOK,EAAQ4B,SArBrB,SAACJ,GACxBF,EAAUE,EAAEK,OAAOlC,QAoBuDmC,YAAY,qBAE9E,4BAAQrB,UAAU,OAAlB,sBCVDsB,MAhBf,WACE,OACE,6BACE,kBAAC,EAAD,MACA,yBAAKtB,UAAU,aACb,kBAAC,EAAD,KACE,kBAAC,EAAD,MACA,kBAAC,EAAD,MACA,kBAAC,EAAD,MACA,kBAAC,EAAD,UCdVuB,IAASC,OACP,kBAAC,IAAMC,WAAP,KACE,kBAAC,EAAD,OAEFC,SAASC,eAAe,W","file":"static/js/main.e2733448.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst Header = () => {\r\n    return (\r\n        <h2>\r\n            Expense Tracker\r\n        </h2>\r\n    )\r\n}\r\n\r\nexport default Header\r\n","const Reducer = (state, action) => {\r\n    switch(action.type){\r\n        case 'GET':\r\n            return {\r\n                ...state,\r\n                loading: false,\r\n                transactions: action.payload\r\n            }\r\n        case 'DELETE':\r\n            return {\r\n                ...state, \r\n                transactions: state.transactions.filter((transaction)=>transaction._id !== action.payload)\r\n            }\r\n        case 'ADD':\r\n            return {\r\n                ...state, transactions: [...state.transactions, action.payload]\r\n            }\r\n        case 'GET_ERROR':\r\n            return {\r\n                ...state, \r\n                loading: true,\r\n                error: action.payload\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\nexport default Reducer;","import React, {createContext, useReducer} from 'react';\r\nimport AppReducer from './AppReducer';\r\n\r\n//initail state\r\nconst initialState =  {\r\n    transactions: [], \r\n    error: null, \r\n    loading: true\r\n};\r\n\r\n//create context\r\nexport const GlobalContext = createContext(initialState);\r\n\r\n//provider\r\nexport const GlobalProvider = ({ children }) => {\r\n    const [state, dispatch] = useReducer(AppReducer, initialState);\r\n \r\n    const deleteTransaction = async (id) => {\r\n        try {\r\n            fetch(`/transaction/${id}`, {method: 'DELETE'});\r\n            dispatch({\r\n                type: 'DELETE',\r\n                payload: id\r\n            });\r\n        } catch (err) {\r\n            dispatch({\r\n                type: 'GET_ERROR', \r\n                payload: err\r\n            });\r\n        }\r\n    }\r\n\r\n    const addTransaction = async (transaction) => {\r\n        try {\r\n            const res = await fetch('/transaction', {\r\n                method: 'POST', \r\n                body: JSON.stringify(transaction), \r\n                headers: {'Content-Type': 'application/json'}\r\n            });\r\n            // console.log(res.json());\r\n            \r\n            dispatch({\r\n                type: 'ADD', \r\n                payload: res.json()\r\n            });\r\n        } catch (error) {\r\n            dispatch({\r\n                type: 'GET_ERROR', \r\n                payload: error\r\n            });\r\n        }\r\n    }\r\n\r\n    const getTransactions = async () => {\r\n        try {\r\n            const transactionRes = await fetch('/transaction');\r\n            const transaction = await transactionRes.json();\r\n\r\n            dispatch({\r\n                type: 'GET', \r\n                payload: transaction.data\r\n            });\r\n        } catch (err) {\r\n            dispatch({\r\n                type: 'GET_ERROR', \r\n                payload: err\r\n            });\r\n        }\r\n    }\r\n\r\n    return(\r\n        <GlobalContext.Provider value={{ \r\n            transactions: state.transactions,\r\n            error: state.error,\r\n            loading: state.loading,\r\n            getTransactions, deleteTransaction, addTransaction\r\n         }}>\r\n            {children}\r\n        </GlobalContext.Provider>\r\n    );\r\n}","import React, {useContext} from 'react';\r\nimport { GlobalContext } from \"../context/GlobalState\";\r\n\r\nconst Balance = () => {\r\n    const {transactions} = useContext(GlobalContext);\r\n    const amounts = transactions.map(transaction => transaction.amount);\r\n    const total = amounts.reduce((acc, item) => (acc += item), 0).toFixed(2);\r\n\r\n    return (\r\n        <>\r\n            <h4>Your Balance</h4>\r\n            <h1>${total}</h1>  \r\n        </>\r\n    )\r\n}\r\n\r\nexport default Balance\r\n","import React, {useContext} from 'react';\r\nimport { GlobalContext } from \"../context/GlobalState\";\r\n\r\nconst IncomeExpenses = () => {\r\n    const {transactions} = useContext(GlobalContext);\r\n    const amounts = transactions.map(transaction => transaction.amount);\r\n    const income = amounts.filter(item => item > 0).reduce((acc, item) => (acc += item), 0).toFixed(2);\r\n\r\n  const expense = (amounts.filter(item => item < 0).reduce((acc, item) => (acc += item), 0) *-1).toFixed(2);\r\n    return (\r\n        <div className=\"inc-exp-container\">\r\n            <div>\r\n                <h4>Income</h4>\r\n                <p className=\"money plus\">+${income}</p>\r\n            </div>\r\n            <div>\r\n                <h4>Expense</h4>\r\n                <p className=\"money minus\">-${expense}</p>\r\n            </div>\r\n        </div>    \r\n    )\r\n}\r\n\r\nexport default IncomeExpenses\r\n","import React, {useContext} from 'react';\r\nimport { GlobalContext } from \"../context/GlobalState\";\r\n\r\nconst Transaction = ({transaction}) => {\r\n    const { deleteTransaction } = useContext(GlobalContext);\r\n\r\n    const amount = transaction.amount;\r\n    const sign = amount < 0 ? '-' : '+';\r\n\r\n    return (\r\n        <>\r\n            <li className={sign === '-' ? 'minus' : 'plus'}>\r\n            {transaction.text} <span>{sign}${Math.abs(amount)}</span><button onClick={()=>deleteTransaction(transaction._id)} className=\"delete-btn\">x</button>\r\n            </li> \r\n        </>\r\n    )\r\n}\r\n\r\nexport default Transaction\r\n","import React, {useContext, useEffect} from 'react';\r\nimport { GlobalContext } from \"../context/GlobalState\";\r\nimport Transaction from './Transaction';\r\n\r\nconst TransactionList = () => {\r\n    const {transactions, getTransactions} = useContext(GlobalContext);\r\n\r\n    useEffect(()=>{\r\n        getTransactions();\r\n        // eslint-disable-next-line\r\n    }, [])\r\n    return (\r\n        <>\r\n            <h3>History</h3>\r\n            <ul className=\"list\">\r\n                {transactions.map((transaction)=>{\r\n                    return (\r\n                        <Transaction  key={transaction._id} transaction={transaction} />\r\n                    );\r\n                })}\r\n            </ul> \r\n        </>\r\n    )\r\n}\r\n\r\nexport default TransactionList\r\n","import React, {useState, useContext} from 'react';\r\nimport { GlobalContext } from \"../context/GlobalState\";\r\n\r\nconst AddTransaction = () => {\r\n    const {addTransaction} = useContext(GlobalContext);\r\n    const [text, setText] = useState('');\r\n    const [amount, setAmount] = useState(0);\r\n    \r\n    const handleTextChange = (e) => {\r\n        setText(e.target.value);\r\n    }\r\n\r\n    const handleAmountChange = (e) => {\r\n        setAmount(e.target.value);\r\n    }\r\n\r\n    const handleFormSubmit = (e) => {\r\n        e.preventDefault();\r\n        addTransaction({text, amount: Number(amount) });\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <h3>Add new transaction</h3>\r\n            <form onSubmit={handleFormSubmit}>\r\n                <div className=\"form-control\">\r\n                <label htmlFor=\"text\">Text</label>\r\n                <input type=\"text\" value={text} onChange={handleTextChange} placeholder=\"Enter text...\" />\r\n                </div>\r\n                <div className=\"form-control\">\r\n                <label htmlFor=\"amount\"\r\n                    >Amount <br />\r\n                    (negative - expense, positive - income)</label>\r\n                <input type=\"number\" value={amount} onChange={handleAmountChange} placeholder=\"Enter amount...\" />\r\n                </div>\r\n                <button className=\"btn\">Add transaction</button>\r\n            </form>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default AddTransaction\r\n","import React from 'react';\nimport './App.css';\nimport Header from './components/Header';\nimport Balance from './components/Balance';\nimport IncomeExpenses from './components/IncomeExpenses';\nimport TransactionList from './components/TransactionList';\nimport AddTransaction from './components/AddTransaction';\nimport {GlobalProvider} from './context/GlobalState';\n\nfunction App() {\n  return (\n    <div>\n      <Header />\n      <div className=\"container\">\n        <GlobalProvider>\n          <Balance />\n          <IncomeExpenses />\n          <TransactionList />\n          <AddTransaction />\n        </GlobalProvider>\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}